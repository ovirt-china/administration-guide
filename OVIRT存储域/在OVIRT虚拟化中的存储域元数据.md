# 在OVIRT虚拟化中的存储域元数据

对于存储域的管理，OVIRT虚拟化管理平台把存储域的元数据信息也保存在存储域本身。目前存储域有下面几个版本:

-   V1：

    每个存储域包含描述自身结构的元数据和所有用于保存虚拟机镜像的物理卷的名字。

    此外,
    主存储域还包含所有其他存储域的元数据和池中所有物理卷的名字。元数据的大小被限制在
    2kb，这个大小限制了一个池中能支持的存储域的数量。

    模板和虚拟机的基本镜像是只读的。

    V1 版本的元数据适用于 NFS、iSCSI 和 FC 存储域。

-   V2：

    所有的存储域和池的元数据是作为逻辑卷的标签存储的，而不是直接写到逻辑卷中。虚拟机磁盘卷的元数据仍然是存储在域的逻辑卷中。

    物理卷的名字不在包含在元数据中。

    模板和虚拟机的基本镜像是只读的。

    V2 版本的元数据适用于 iSCSI 和 FC 存储域。

-   V3：

    所有的存储域和池的元数据是作为逻辑卷的标签存储的，而不是直接写到逻辑卷中。虚拟机卷的元数据仍然是存储在域的逻辑卷中。

    在 V3
    中基本的虚拟机磁盘和模板不再是只读的。这个改变使得在线快照、在线存储迁移和从快照克隆虚拟机都能够进行。

    这个版本还支持 unicode 编码，允许非英文的卷名。

    V3 版本的元数据适用于 NFS、GlusterFS、POSIX、iSCSI 和 FC 存储域。

